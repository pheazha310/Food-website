<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Profile | Food Business</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/profile.css">
</head>

<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <nav class="navbar">
                <div class="logo">
                    <i class="fas fa-utensils"></i>
                    <span>FoodBusiness</span>
                </div>
                <button class="nav-toggle" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                </button>
                <ul class="nav-links nav-auth">
                    <li><a href="../index.html"><i class="fas fa-home"></i> Home</a></li>
                    <li><a href="menu.html"><i class="fas fa-utensils"></i> Menu</a></li>
                    <li><a href="cart.html"><i class="fas fa-shopping-cart"></i> Cart <span id="cartCount" class="cart-count">0</span></a></li>
                    <li><a href="order-history.html"><i class="fas fa-history"></i> Orders</a></li>
                    <li><a href="profile.html" class="active"><i class="fas fa-user"></i> Profile</a></li>
                    <li><a href="about.html"><i class="fas fa-info-circle"></i> About</a></li>
                    <li><a href="contact.html"><i class="fas fa-envelope"></i> Contact</a></li>
                    <li><a href="#" id="logoutBtn" class="logout-unified"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Profile Hero -->
    <section class="profile-hero">
        <div class="container">
            <h1>My Profile</h1>
            <p>Manage your account information and preferences</p>
        </div>
    </section>

    <!-- Profile Content -->
    <section class="profile-content">
        <div class="container">
            <div class="profile-layout">
                <!-- Profile Sidebar -->
                <aside class="profile-sidebar">
                    <div class="profile-avatar">
                        <div class="avatar-image">
                            <i class="fas fa-user-circle"></i>
                        </div>
                        <h3 id="profileName"></h3>
                        <p id="profileEmail"></p>
                        <p class="member-since">Member since: <span id="memberSince">2024</span></p>
                    </div>

                    <nav class="profile-nav">
                        <ul>
                            <li class="active"><a href="#personal" data-tab="personal"><i class="fas fa-user"></i> Personal Info</a></li>
                            <li><a href="#addresses" data-tab="addresses"><i class="fas fa-map-marker-alt"></i> Addresses</a></li>
                            <li><a href="#preferences" data-tab="preferences"><i class="fas fa-cog"></i> Preferences</a></li>
                            <li><a href="#security" data-tab="security"><i class="fas fa-shield-alt"></i> Security</a></li>
                            <li><a href="#notifications" data-tab="notifications"><i class="fas fa-bell"></i> Notifications</a></li>
                        </ul>
                    </nav>
                </aside>

                <!-- Profile Main -->
                <main class="profile-main">
                    <!-- Personal Info Tab -->
                    <div class="profile-tab active" id="personalTab">
                        <div class="tab-header">
                            <h2>Personal Information</h2>
                            <button class="btn btn-primary" id="editPersonalBtn">
                                <i class="fas fa-edit"></i> Edit
                            </button>
                        </div>

                        <div class="profile-info">
                            <div class="info-row">
                                <span class="info-label">Full Name:</span>
                                <span class="info-value" id="infoName"></span>
                                <input type="text" class="form-control edit-field" id="editName" style="display: none;">
                            </div>

                            <div class="info-row">
                                <span class="info-label">Email:</span>
                                <span class="info-value" id="infoEmail"></span>
                                <input type="email" class="form-control edit-field" id="editEmail" style="display: none;">
                            </div>

                            <div class="info-row">
                                <span class="info-label">Username:</span>
                                <span class="info-value" id="infoUsername"></span>
                                <input type="text" class="form-control edit-field" id="editUsername" style="display: none;">
                            </div>

                            <div class="info-row">
                                <span class="info-label">Phone Number:</span>
                                <span class="info-value" id="infoPhone">Not set</span>
                                <input type="tel" class="form-control edit-field" id="editPhone" style="display: none;">
                            </div>

                            <div class="info-row">
                                <span class="info-label">Account Type:</span>
                                <span class="info-value" id="infoRole"></span>
                            </div>
                        </div>

                        <div class="edit-actions" id="personalActions" style="display: none;">
                            <button class="btn btn-secondary" id="cancelPersonalEdit">Cancel</button>
                            <button class="btn btn-primary" id="savePersonalInfo">Save Changes</button>
                        </div>
                    </div>

                    <!-- Addresses Tab -->
                    <div class="profile-tab" id="addressesTab">
                        <div class="tab-header">
                            <h2>Saved Addresses</h2>
                            <button class="btn btn-primary" id="addAddressBtn">
                                <i class="fas fa-plus"></i> Add Address
                            </button>
                        </div>

                        <div class="addresses-list" id="addressesContainer">
                            <!-- Addresses will be loaded by JS -->
                        </div>

                        <div class="addresses-empty" id="emptyAddressesMessage">
                            <i class="fas fa-map-marker-alt"></i>
                            <h3>No saved addresses</h3>
                            <p>Add your first delivery address</p>
                        </div>
                    </div>

                    <!-- Preferences Tab -->
                    <div class="profile-tab" id="preferencesTab">
                        <div class="tab-header">
                            <h2>Preferences</h2>
                        </div>

                        <div class="preferences-form">
                            <div class="form-group">
                                <label>Favorite Cuisines</label>
                                <div class="preference-options">
                                    <label class="preference-checkbox">
                                        <input type="checkbox" name="cuisine" value="italian" checked>
                                        <span>Italian</span>
                                    </label>
                                    <label class="preference-checkbox">
                                        <input type="checkbox" name="cuisine" value="mexican">
                                        <span>Mexican</span>
                                    </label>
                                    <label class="preference-checkbox">
                                        <input type="checkbox" name="cuisine" value="asian">
                                        <span>Asian</span>
                                    </label>
                                    <label class="preference-checkbox">
                                        <input type="checkbox" name="cuisine" value="american">
                                        <span>American</span>
                                    </label>
                                    <label class="preference-checkbox">
                                        <input type="checkbox" name="cuisine" value="vegetarian">
                                        <span>Vegetarian</span>
                                    </label>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="spiceLevel">Preferred Spice Level</label>
                                <select id="spiceLevel" class="form-control">
                                    <option value="mild">Mild</option>
                                    <option value="medium" selected>Medium</option>
                                    <option value="spicy">Spicy</option>
                                    <option value="extra-spicy">Extra Spicy</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label>Dietary Restrictions</label>
                                <div class="preference-options">
                                    <label class="preference-checkbox">
                                        <input type="checkbox" name="diet" value="vegetarian">
                                        <span>Vegetarian</span>
                                    </label>
                                    <label class="preference-checkbox">
                                        <input type="checkbox" name="diet" value="vegan">
                                        <span>Vegan</span>
                                    </label>
                                    <label class="preference-checkbox">
                                        <input type="checkbox" name="diet" value="gluten-free">
                                        <span>Gluten Free</span>
                                    </label>
                                    <label class="preference-checkbox">
                                        <input type="checkbox" name="diet" value="dairy-free">
                                        <span>Dairy Free</span>
                                    </label>
                                    <label class="preference-checkbox">
                                        <input type="checkbox" name="diet" value="nut-free">
                                        <span>Nut Free</span>
                                    </label>
                                </div>
                            </div>

                            <button class="btn btn-primary" id="savePreferences">
                                <i class="fas fa-save"></i> Save Preferences
                            </button>
                        </div>
                    </div>

                    <!-- Security Tab -->
                    <div class="profile-tab" id="securityTab">
                        <div class="tab-header">
                            <h2>Security Settings</h2>
                        </div>

                        <div class="security-form">
                            <div class="form-group">
                                <label for="currentPassword">Current Password</label>
                                <input type="password" id="currentPassword" class="form-control">
                            </div>

                            <div class="form-group">
                                <label for="newPassword">New Password</label>
                                <input type="password" id="newPassword" class="form-control">
                                <small>Must be at least 8 characters long</small>
                            </div>

                            <div class="form-group">
                                <label for="confirmPassword">Confirm New Password</label>
                                <input type="password" id="confirmPassword" class="form-control">
                            </div>

                            <button class="btn btn-primary" id="changePassword">
                                <i class="fas fa-key"></i> Change Password
                            </button>
                        </div>
                    </div>

                    <!-- Notifications Tab -->
                    <div class="profile-tab" id="notificationsTab">
                        <div class="tab-header">
                            <h2>Notification Settings</h2>
                        </div>

                        <div class="notifications-form">
                            <div class="notification-setting">
                                <div>
                                    <h4>Email Notifications</h4>
                                    <p>Receive updates about your orders via email</p>
                                </div>
                                <label class="switch">
                                    <input type="checkbox" id="emailNotifications" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>

                            <div class="notification-setting">
                                <div>
                                    <h4>SMS Notifications</h4>
                                    <p>Get order status updates via SMS</p>
                                </div>
                                <label class="switch">
                                    <input type="checkbox" id="smsNotifications">
                                    <span class="slider"></span>
                                </label>
                            </div>

                            <div class="notification-setting">
                                <div>
                                    <h4>Promotional Emails</h4>
                                    <p>Receive special offers and promotions</p>
                                </div>
                                <label class="switch">
                                    <input type="checkbox" id="promoEmails" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>

                            <div class="notification-setting">
                                <div>
                                    <h4>Order Updates</h4>
                                    <p>Get notified when your order status changes</p>
                                </div>
                                <label class="switch">
                                    <input type="checkbox" id="orderUpdates" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>

                            <button class="btn btn-primary" id="saveNotifications">
                                <i class="fas fa-bell"></i> Save Notification Settings
                            </button>
                        </div>
                    </div>
                </main>
            </div>
        </div>
    </section>

    <!-- Add/Edit Address Modal -->
    <div class="modal" id="addressModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="addressModalTitle">Add New Address</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="addressForm">
                    <input type="hidden" id="addressId">

                    <div class="form-group">
                        <label for="addressName">Address Name *</label>
                        <input type="text" id="addressName" class="form-control" placeholder="e.g., Home, Work" required>
                    </div>

                    <div class="form-group">
                        <label for="fullAddress">Full Address *</label>
                        <textarea id="fullAddress" class="form-control" rows="3" placeholder="Street address, apartment number, etc." required></textarea>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="city">City *</label>
                            <input type="text" id="city" class="form-control" required>
                        </div>

                        <div class="form-group">
                            <label for="state">State *</label>
                            <input type="text" id="state" class="form-control" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="zipCode">Zip Code *</label>
                            <input type="text" id="zipCode" class="form-control" required>
                        </div>

                        <div class="form-group">
                            <label for="country">Country</label>
                            <input type="text" id="country" class="form-control" value="USA">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="phoneNumber">Phone Number</label>
                        <input type="tel" id="phoneNumber" class="form-control">
                    </div>

                    <div class="form-check">
                        <input type="checkbox" id="defaultAddress" class="form-check-input">
                        <label for="defaultAddress" class="form-check-label">Set as default address</label>
                    </div>

                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary close-modal">Cancel</button>
                        <button type="submit" class="btn btn-primary">Save Address</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <h3>FoodBusiness</h3>
                    <p>Delivering delicious meals since 2024. Quality food, exceptional service.</p>
                    <div class="social-icons">
                        <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                        <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>

                <div class="footer-links">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="../index.html">Home</a></li>
                        <li><a href="about.html">About</a></li>
                        <li><a href="contact.html">Contact</a></li>
                        <li><a href="menu.html">Menu</a></li>
                    </ul>
                </div>

                <div class="footer-contact contact">
                    <h3>Contact Us</h3>
                    <p><i class="fas fa-map-marker-alt"></i> 123 Food St, City</p>
                    <p><i class="fas fa-phone"></i> (123) 456-7890</p>
                    <p><i class="fas fa-envelope"></i> info@foodbusiness.com</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 FoodBusiness. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="../js/auth.js"></script>
    <script src="../js/navbar.js"></script>
    <script src="../js/profile.js"></script>
</body>

</html>
